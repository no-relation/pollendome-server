(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){e.exports=a(438)},229:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(60),c=a.n(o),l=(a(229),a(16)),i=a(20),s=a(18),u=a(17),m=a(19),p=a(459),d=a(449),h=a(415),f=a(23),g=a(194),b=a.n(g)()(),y=a(456),E=a(451),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={today:new Date,activeItem:"home"},a.formatMonthDayYear=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+" "+e.getUTCDate()+", "+e.getFullYear()},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.handleLogout=function(e){a.props.logout()},a.userLoggedIn=function(){var e=a.state.activeItem;return 0===Object.keys(a.props.currentUser).length||a.props.currentUser.error?r.a.createElement(y.a.Menu,{position:"right"},r.a.createElement(y.a.Item,{as:E.a,to:"/signup",name:"signup",active:"signup"===e,onClick:a.handleItemClick},"Sign Up"),r.a.createElement(y.a.Item,{as:E.a,to:"/login",name:"login",active:"login"===e,onClick:a.handleItemClick},"Login")):r.a.createElement(y.a.Menu,{position:"right"},r.a.createElement(y.a.Item,{as:E.a,to:"/user/".concat(a.props.currentUser.id),name:"profile",active:"profile"===e,onClick:a.handleItemClick},"Profile"),r.a.createElement(y.a.Item,{as:E.a,to:"/",name:"logout",onClick:a.handleLogout,active:"logout"===e},"Logout"))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(y.a,{stackable:!0,fluid:!0,inverted:!0},r.a.createElement(y.a.Item,{as:E.a,to:"/",name:"home",active:"home"===e,onClick:this.handleItemClick},r.a.createElement("strong",null,"WELCOME TO",r.a.createElement("br",null),"POLLENDOME")),r.a.createElement(y.a.Item,{as:E.a,to:"/future",name:"forecast",active:"forecast"===e,onClick:this.handleItemClick},"Forecast"),r.a.createElement(y.a.Item,{as:E.a,to:"/past",name:"days",active:"days"===e,onClick:this.handleItemClick},"Past Data"),r.a.createElement(y.a.Item,{as:E.a,to:"/",name:"today",active:"today"===e,onClick:this.handleItemClick},this.formatMonthDayYear(this.state.today)),this.userLoggedIn())}}]),t}(n.Component),v=a(129),j=a(122),S=a(446),w=a(457),k=function(e){return["acrodictys","agrocybe","algae","alternaria","arthimium","ascomycetes","asperisporium","basidiomycetes","beltrania","botrytis","cercospora","cladosporium","curvularia","d_conidia_hyphae","dendryphiella","drechslera_helmintho","dichotomophthora","diplococcum","epicoccum","fusariella","ganoderma","helicomina","microsporum","misc_fungus_hyaline","monodictys","myxomycete_smut","nigrospora","penicillium_aspergillus","periconia","pestalotiopsis","pithomyces","powdery_mildew","pseudocercospora","puccinia","rust","spegazinia","stemphyllium","tetrapola","tilletia","torula"].includes(e)?"mold":["ash","birch","cotton_wood","dogwood","elm","glandular_mesquite","hackberry","hickory","mulberry","maple","osage_orange","oak","sycamore","pine","privet","sweet_gum","gingko_biloba","amaranth","burweed___marshelder","cattail","dog_fennel","lambs_quarters","ragweed","rumex","sagebrush","saltbrush","sedge","ashe_juniper___bald_cypress","bushes","willow","sneezeweed","black_gum","other_weed","other_tree","plantago","partridge_pea","black_walnut","pigweed","alder","cedar","hazelnut","plum_grannet","walnutjuglans","aster","nettle","walnut","magnolia","wild_carrot","willow"].includes(e)?"pollen":"?"},C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).loadingOrDone=function(){return a.props.isLoading?r.a.createElement(j.a,{loading:!0,name:"sun outline",size:"huge"}):r.a.createElement(S.a,null,r.a.createElement(v.a,{data:a.data(a.props.days)}),r.a.createElement(w.a.Subheader,{disabled:!0},"Readings are not available for all days"))},a.render=function(){return a.props.days&&0!==a.props.days.length?r.a.createElement(S.a,null,r.a.createElement(v.a,{data:a.data(a.props.days)}),r.a.createElement(w.a.Subheader,{disabled:!0},"Readings are not available for all days")):r.a.createElement(w.a,null,"There is no data available for the requested days")},a.getDataset=function(e,t){var a;return a="mold"===k(t)?Math.floor(125*Math.random()+175):"pollen"===k(t)?Math.floor(125*Math.random()):360,{label:t,data:e.map(function(e){var a=Number(e["".concat(t)]);return isNaN(a)?0:a}),borderColor:"hsla(".concat(a,", 80%, 45%, 1)")}},a.getHighest=function(e,t){var a=[];return Object.keys(e).forEach(function(e){t===k(e)&&a.push(e)}),a.filter(function(t){return Number(e[t])>0}).sort(function(t,a){return Number(e[a])-Number(e[t])}).slice(0,4).map(function(e){return e.replace("___"," / ").replace(/_/g," ")})},a.getSporeList=function(e){var t=a.getHighest(e,"pollen"),n=a.getHighest(e,"mold");return t.concat(n)},a.data=function(e){return e&&e.length>0?{labels:e.map(function(e){return e.fulldate.slice(5)}),datasets:a.getSporeList(e[0]).map(function(t){return a.getDataset(e,t)})}:{labels:[],datasets:[]}},a}return Object(m.a)(t,e),t}(n.Component),U=Object(f.b)(function(e){return{days:e.days,isLoading:e.isLoading}})(C),D="https://pollendome.herokuapp.com//api/v1",I={getDays:function(e){var t=e.dates[0].toJSON().slice(0,10),a=e.dates[1].toJSON().slice(0,10);return function(e){e({type:"LOADING"}),fetch("".concat(D,"/days/find?startdate=").concat(t,"&enddate=").concat(a)).then(function(e){return e.json()}).then(function(t){return e({type:"GET_DAYS",payload:t})})}}},_=a(450),L=a(455),A={createFeeling:function(e){return function(t){fetch("".concat(D,"/feelings"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return t({type:"GET_FEELINGS",payload:e})})}},getFeelings:function(e){return function(t){fetch("".concat(D,"/feelings/?userid=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return e.json()}).then(function(e){return t({type:"GET_FEELINGS",payload:e})})}}},N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={today:a.props.date},a.onGoodClick=function(e){a.props.createFeeling({rating:5,user_id:a.props.currentUser.id,fulldate:a.state.today})},a.onBadClick=function(e){a.props.createFeeling({rating:0,user_id:a.props.currentUser.id,fulldate:a.state.today})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement(w.a.Subheader,null,"How do you feel today?"),r.a.createElement(_.a,null,r.a.createElement(L.a.Group,{size:"small"},r.a.createElement(L.a,{icon:!0,positive:!0,labelPosition:"left",onClick:this.onGoodClick},r.a.createElement(j.a,{name:"thumbs up"}),"A-okay!"),r.a.createElement(L.a.Or,null),r.a.createElement(L.a,{icon:!0,negative:!0,labelPosition:"right",onClick:this.onBadClick},"Ugh",r.a.createElement(j.a,{name:"thumbs down"})))))}}]),t}(n.Component),T=Object(f.b)(function(e){return{currentUser:e.currentUser}},A)(N),G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={date:new Date},a.userLoggedIn=function(){return 0===Object.keys(a.props.currentUser).length||a.props.currentUser.error?r.a.createElement(S.a,null,r.a.createElement(w.a,null,"Welcome!",r.a.createElement("br",null)," Would you like to ",r.a.createElement(E.a,{to:"/login"},"log in,")," or ",r.a.createElement(E.a,{to:"/signup"},"create a new account?")," "),r.a.createElement(w.a.Subheader,null,"Logging in allows us to keep track of how you feel on a given day, which helps our predictions")):r.a.createElement(S.a,null,r.a.createElement(w.a,null,"Welcome back, ",a.props.currentUser.username,"! "),0===a.props.feelings.length&&r.a.createElement(T,{date:a.state.date}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,null,this.userLoggedIn())}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).thisTimeLastYear=function(){var e=new Date;e.setFullYear(e.getFullYear()-1);var t=new Date(e);return t.setDate(e.getDate()-10),[t,e]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getDays({dates:this.thisTimeLastYear()})}},{key:"render",value:function(){var e=this.thisTimeLastYear().map(function(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}).join(" to ");return r.a.createElement(S.a,null,r.a.createElement(G,{currentUser:this.props.currentUser,feelings:this.props.feelings}),r.a.createElement(w.a,null,"Looking Back"),r.a.createElement(w.a.Subheader,null,"Allergen counts from ",e||"this time last year"),r.a.createElement(U,{data:this.props.dates}))}}]),t}(n.Component),F=Object(f.b)(function(e){return{days:e.days,currentUser:e.currentUser,feelings:e.feelings}},I)(M),R=a(65),B=a.n(R),J=a(96),x=a(453),P=a(36),Y=a(62),z=a(447),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:a.props.currentUser.username,email:a.props.currentUser.email,password:""},a.handleOnChange=function(e){a.setState(Object(Y.a)({},e.target.name,e.target.value))},a.handleOnSubmit=function(e){e.preventDefault(),a.props.location.pathname==="/user/".concat(a.props.match.params.id)&&(a.props.editUser(Object(P.a)({},a.state,{id:a.props.currentUser.id})),a.props.closeForm()),"/signup"===a.props.location.pathname&&(a.props.addUser(a.state),b.push("/"))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,{onSubmit:this.handleOnSubmit},r.a.createElement(_.a.Input,{name:"username",value:this.state.username,placeholder:"username",onChange:this.handleOnChange}),r.a.createElement(_.a.Input,{name:"email",value:this.state.email,placeholder:"email",onChange:this.handleOnChange}),r.a.createElement(_.a.Input,{name:"password",type:"password",value:this.state.password,placeholder:"password",onChange:this.handleOnChange}),r.a.createElement(_.a.Button,null,"Submit"))}}]),t}(n.Component),W=Object(z.a)(H),q={login:function(e){return function(t){fetch("".concat(D,"/auth"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.error?t({type:"ERROR_MESSAGE",payload:e.error}):(t({type:"LOGIN_USER",payload:e}),b.push("/user/".concat(e.id)))})}},logout:function(){return{type:"LOGOUT_USER"}},addUser:function(e){return function(t){fetch("".concat(D,"/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return t({type:"LOGIN_USER",payload:e})})}},deleteUser:function(e){return function(t){fetch("".concat(D,"/users/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(){return t({type:"LOGOUT_USER"})})}},editUser:function(e){return function(t){fetch("".concat(D,"/users/").concat(e.id),{method:"PATCH",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return t({type:"EDIT_USER",payload:e})})}},returningUser:function(e){return{type:"RETURNING_USER",payload:e}},getFeelings:function(e){return function(t){fetch("".concat(D,"/feelings/user/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return e.json()}).then(function(e){return t({type:"GET_FEELINGS",payload:e})})}}},$=a(448),K=a(452),Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).formatMonthDayYear=function(e){var t=new Date(e);return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getUTCDate()+", "+t.getFullYear()},a.getHighest=function(e,t){var a=[];return Object.keys(e).forEach(function(e){t===k(e)&&a.push(e)}),a.filter(function(t){return Number(e[t])>0}).sort(function(t,a){return Number(e[a])-Number(e[t])}).slice(0,4)},a.getSporeList=function(e){var t=a.getHighest(e,"pollen").concat(a.getHighest(e,"mold"));return t.map(function(t,a){return r.a.createElement(K.a.Item,{key:a},function(e){return"pollen"===k(e)?r.a.createElement(K.a.Icon,{name:"tree",color:"orange"}):r.a.createElement(K.a.Icon,{name:"theme",color:"teal"})}(t),r.a.createElement(K.a.Content,null," ","".concat(t.replace("___"," / ").replace(/_/g," ")," (").concat(e[t],")")," "))})},a.renderBadSporeList=function(){var e=a.getSporeList(a.props.feeling.day);return 0===e.length?r.a.createElement(x.a.Description,null,"If you're allergic to something, it looks like it wasn't in the air that day."):r.a.createElement(S.a,null,r.a.createElement(x.a.Description,null,"You might be allergic to: (count/m\xb3)"),r.a.createElement(K.a,null,e))},a.renderNotBadSporeList=function(){var e=a.getSporeList(a.props.feeling.day);return 0===e.length?null:r.a.createElement(S.a,null,r.a.createElement(x.a.Description,null,"You might not be allergic to: (count/m\xb3)"),r.a.createElement(K.a,null,e))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return e=this.props.feeling.feeling.rating>3,r.a.createElement(x.a,{link:!0,color:e?"green":"red"},r.a.createElement(x.a.Content,null,r.a.createElement(j.a,{name:e?"thumbs up outline":"thumbs down outline",color:e?"green":"red"}),r.a.createElement(x.a.Header,null,this.formatMonthDayYear(this.props.feeling.day.fulldate)," "),e?this.renderNotBadSporeList():this.renderBadSporeList()),r.a.createElement(x.a.Meta,null,r.a.createElement(j.a,{circular:!0,name:"tree",color:"orange"}),"pollen",r.a.createElement(j.a,{circular:!0,name:"theme",color:"teal"}),"mold"))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).todaysFeeling=function(){return a.props.feelings.find(function(e){return e.day.fulldate===a.props.date.toJSON().slice(0,10)})?null:r.a.createElement(T,{date:a.props.date})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(J.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.currentUser;case 2:return e.next=4,this.props.getFeelings(this.props.currentUser.id);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.feelings?r.a.createElement(S.a,null,this.todaysFeeling(),r.a.createElement($.a,null),r.a.createElement(x.a.Group,{centered:!0},this.props.feelings.map(function(e){return r.a.createElement(Q,{key:e.feeling.id,feeling:e})}))):r.a.createElement(j.a,{loading:!0,name:"spinner"})}}]),t}(n.Component),X=Object(f.b)(null,A)(V),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={date:new Date,showEdit:!1},a.dataOrEdit=function(){return a.state.showEdit?r.a.createElement(W,{currentUser:a.props.currentUser,closeForm:function(){return a.setState({showEdit:!1})},editUser:a.props.editUser}):("sneezy@fairy.land"===a.props.currentUser.email&&(e=!0),r.a.createElement(S.a,null,r.a.createElement(x.a.Group,{centered:!0},e?null:r.a.createElement(L.a.Group,{vertical:!0},r.a.createElement(L.a,{icon:!0,primary:!0,onClick:function(){return a.setState({showEdit:!0})}},r.a.createElement(j.a,{name:"edit"})," Edit"),r.a.createElement(L.a,{icon:!0,color:"red",onClick:function(){return a.props.deleteUser(a.props.currentUser.id)}},r.a.createElement(j.a,{name:"trash alternate"}),"Delete")),r.a.createElement(x.a,null,r.a.createElement(w.a,{as:"h2"},r.a.createElement(j.a,{name:"user circle"}),r.a.createElement(w.a.Content,null,a.props.currentUser.username))),r.a.createElement(x.a,null,r.a.createElement(w.a,{as:"h2"},r.a.createElement(j.a,{name:"mail"}),r.a.createElement(w.a.Content,null,a.props.currentUser.email)))),r.a.createElement("br",null),r.a.createElement(X,{currentUser:a.props.currentUser,feelings:a.props.feelings,date:a.state.date})));var e},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(J.a)(B.a.mark(function e(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.currentUser.id){e.next=3;break}return e.next=3,this.props.getFeelings(this.props.currentUser.id);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.dataOrEdit()}}]),t}(n.Component),ee=Object(f.b)(function(e){return{currentUser:e.currentUser,feelings:e.feelings}},q)(Z),te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(D,"/users")).then(function(e){return e.json()}).then(function(t){e.setState({users:t})})}},{key:"render",value:function(){return r.a.createElement(S.a,null,this.state.users.map(function(e,t){return r.a.createElement(x.a,{key:t},r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Header,{as:E.a,to:"/user/".concat(e.id)},e.username),r.a.createElement(x.a.Description,null,e.email)))}))}}]),t}(n.Component),ae=a(454),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleOnChange=function(e){a.setState(Object(Y.a)({},e.target.name,e.target.value))},a.handleOnSubmit=function(e){e.preventDefault(),a.props.login(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"errorBox",value:function(){var e=this.props.error;if(e)return r.a.createElement(ae.a,{negative:!0,header:"Unable to login",content:e})}},{key:"render",value:function(){return r.a.createElement(S.a,null,this.errorBox(),r.a.createElement(w.a,{as:"h2",icon:!0},r.a.createElement(j.a,{name:"sign-in"}),"Log In",r.a.createElement(w.a.Subheader,null,"How are you feeling today?")),r.a.createElement(_.a,{onSubmit:this.handleOnSubmit},r.a.createElement(_.a.Input,{fluid:!0,name:"email",label:"Email",value:this.state.email,onChange:this.handleOnChange}),r.a.createElement(_.a.Input,{fluid:!0,name:"password",label:"Password",value:this.state.password,type:"password",onChange:this.handleOnChange}),r.a.createElement(_.a.Button,null,"Login")))}}]),t}(n.Component),re=Object(f.b)(function(e){return{currentUser:e.currentUser,error:e.error}},q)(ne),oe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement(w.a,{as:"h2",icon:!0},r.a.createElement(j.a,{name:"signup"}),"Sign Up",r.a.createElement(w.a.Subheader,null,"Over time, you can learn what pollens or molds you're allergic to")),r.a.createElement(W,{currentUser:{username:"",email:""},addUser:this.props.addUser}))}}]),t}(n.Component),ce=Object(f.b)(null,q)(oe),le=a(458),ie=a(132),se=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dates:[new Date("2015-02-01"),new Date("2015-04-30")],formParams:{mindate:new Date("2013-01-01"),maxdate:new Date("2999-12-31"),mindetail:"decade"}},a.handleOnChangeCalendar=function(e){return a.setState({dates:e})},a.handleOnSubmit=function(e){e.preventDefault(),a.props.getDays(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,{onSubmit:this.handleOnSubmit},r.a.createElement(_.a.Button,{color:"blue"},"Submit"),r.a.createElement(le.a,{relaxed:!0,columns:2},r.a.createElement("div",null,r.a.createElement(le.a.Column,null,r.a.createElement(ie.Calendar,{responsive:!0,minDate:this.state.formParams.mindate,maxDate:this.state.formParams.maxdate,minDetail:this.state.formParams.mindetail,selectRange:!0,onChange:this.handleOnChangeCalendar,value:this.state.dates,calendarType:"US"}))),r.a.createElement(le.a.Column,null,r.a.createElement(_.a.Group,{widths:"equal"},r.a.createElement(_.a.Input,{readOnly:!0,fluid:!0,label:"Start Date",value:this.state.dates[0].toDateString().slice(4,15)}),r.a.createElement(_.a.Input,{readOnly:!0,fluid:!0,label:"End Date",value:this.state.dates[1].toDateString().slice(4,15)})))))}}]),t}(n.Component),ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dates:[new Date("2019-04-24"),new Date("2019-05-08")],formParams:{mindate:new Date("2019-01-01"),maxdate:new Date("2019-12-31"),mindetail:"year"}},a.handleOnChangeCalendar=function(e){return a.setState({dates:e})},a.handleOnSubmit=function(e){e.preventDefault(),a.props.getDays(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return r.a.createElement(_.a,{onSubmit:this.handleOnSubmit},r.a.createElement(_.a.Button,{color:"blue"},"Submit"),r.a.createElement(le.a,{relaxed:!0,columns:2},r.a.createElement(le.a.Column,null,r.a.createElement(ie.Calendar,{navigationLabel:function(t){var a=t.date;return"".concat(e[a.getMonth()])},minDate:this.state.formParams.mindate,maxDate:this.state.formParams.maxdate,minDetail:this.state.formParams.mindetail,selectRange:!0,onChange:this.handleOnChangeCalendar,value:this.state.dates,calendarType:"US"})),r.a.createElement(le.a.Column,null,r.a.createElement(_.a.Group,{widths:"equal"},r.a.createElement(_.a.Input,{readOnly:!0,fluid:!0,label:"Start Date",value:this.state.dates[0].toDateString().slice(4,10)}),r.a.createElement(_.a.Input,{readOnly:!0,fluid:!0,label:"End Date",value:this.state.dates[1].toDateString().slice(4,10)})))))}}]),t}(n.Component),me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).pastOrFuture=function(e){return"/future"===e?r.a.createElement(S.a,null,r.a.createElement(w.a,null,"Get forecasts for coming days"),r.a.createElement(U,{days:a.props.days}),r.a.createElement(w.a.Subheader,{disabled:!0},"Average reading for a given day of the year"),r.a.createElement($.a,null),r.a.createElement(ue,{getDays:a.props.getDays})):"/past"===e?r.a.createElement(S.a,null,r.a.createElement(w.a,null,"See data for past dates"),r.a.createElement(U,{days:a.props.days}),r.a.createElement($.a,null),r.a.createElement(se,{getDays:a.props.getDays})):void 0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.pastOrFuture(this.props.location.pathname)}}]),t}(n.Component),pe=Object(z.a)(Object(f.b)(function(e){return{days:e.days}},I)(me)),de=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("currentUser");e&&this.props.returningUser(JSON.parse(e))}},{key:"render",value:function(){return r.a.createElement(p.a,{history:b},r.a.createElement("div",null,r.a.createElement(O,{currentUser:this.props.currentUser,logout:this.props.logout}),r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/past",component:pe}),r.a.createElement(h.a,{path:"/future",component:pe}),r.a.createElement(h.a,{path:"/signup",component:ce}),r.a.createElement(h.a,{path:"/login",component:re}),r.a.createElement(h.a,{path:"/user/:id",render:function(e){return r.a.createElement(ee,e)}}),r.a.createElement(h.a,{path:"/user/",component:te}),r.a.createElement(h.a,{path:"/",component:F}))))}}]),t}(n.Component),he=Object(f.b)(function(e){return{currentUser:e.currentUser}},q)(de);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(213),ge=a(74),be=(a(435),Object(ge.c)(function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_USER":return Object(P.a)({},e,{currentUser:t.payload});case"LOGIN_USER":return localStorage.setItem("token",t.payload.token),localStorage.setItem("currentUser",JSON.stringify(t.payload)),Object(P.a)({},e,{currentUser:t.payload,error:null});case"LOGOUT_USER":return localStorage.removeItem("token"),localStorage.setItem("currentUser",""),localStorage.setItem("feelings",""),Object(P.a)({},e,{currentUser:{},feelings:[]});case"RETURNING_USER":return Object(P.a)({},e,{currentUser:t.payload});case"ERROR_MESSAGE":return Object(P.a)({},e,{error:t.payload});case"GET_DAYS":return Object(P.a)({},e,{days:t.payload,isLoadingDays:!1});case"GET_FEELINGS":return Object(P.a)({},e,{feelings:t.payload});case"LOADING":return Object(P.a)({},e,{isLoadingDays:!0});default:return e}}(e,t)},{currentUser:{},feelings:[]},Object(ge.a)(fe.a)));c.a.render(r.a.createElement(f.a,{store:be}," ",r.a.createElement(he,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[224,2,1]]]);
//# sourceMappingURL=main.28a418a8.chunk.js.map